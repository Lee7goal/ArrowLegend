{
  "code": "import { ui } from \"./../../../ui/layaMaxUI\";\r\nimport Game from \"../../../game/Game\";\r\nimport CookieKey from \"../../../gameCookie/CookieKey\";\r\nimport App from \"../../../core/App\";\r\nexport default class PauseUI extends ui.test.battlestop2UI {\r\n    constructor() {\r\n        super();\r\n        this.btnHome.clickHandler = new Laya.Handler(this, this.onHome);\r\n        this.btnSound.clickHandler = new Laya.Handler(this, this.onSound);\r\n        this.btnPlay.clickHandler = new Laya.Handler(this, this.onBattle);\r\n        this.btnMusic.clickHandler = new Laya.Handler(this, this.onMusic);\r\n        this.on(Laya.Event.DISPLAY, this, this.onDis);\r\n    }\r\n    onDis() {\r\n        Game.cookie.getCookie(CookieKey.MUSIC_SWITCH, (res) => {\r\n            this.musicImg.skin = res.state == 1 ? \"bg/zhanting_1.png\" : \"bg/zhanting_0.png\";\r\n        });\r\n        Game.cookie.getCookie(CookieKey.SOUND_SWITCH, (res) => {\r\n            this.soundImg.skin = res.state == 1 ? \"bg/zhanting_1.png\" : \"bg/zhanting_0.png\";\r\n        });\r\n    }\r\n    onSound() {\r\n        Game.cookie.getCookie(CookieKey.SOUND_SWITCH, (res) => {\r\n            if (res.state == 1) {\r\n                Game.cookie.setCookie(CookieKey.SOUND_SWITCH, { \"state\": 0 });\r\n                this.soundImg.skin = \"bg/zhanting_0.png\";\r\n                App.soundManager.setSoundVolume(0);\r\n            }\r\n            else {\r\n                Game.cookie.setCookie(CookieKey.SOUND_SWITCH, { \"state\": 1 });\r\n                this.soundImg.skin = \"bg/zhanting_1.png\";\r\n                App.soundManager.setSoundVolume(1);\r\n            }\r\n        });\r\n    }\r\n    onMusic() {\r\n        Game.cookie.getCookie(CookieKey.MUSIC_SWITCH, (res) => {\r\n            if (res.state == 1) {\r\n                Game.cookie.setCookie(CookieKey.MUSIC_SWITCH, { \"state\": 0 });\r\n                this.musicImg.skin = \"bg/zhanting_0.png\";\r\n                App.soundManager.setMusicVolume(0);\r\n            }\r\n            else {\r\n                Game.cookie.setCookie(CookieKey.MUSIC_SWITCH, { \"state\": 1 });\r\n                this.musicImg.skin = \"bg/zhanting_1.png\";\r\n                App.soundManager.setMusicVolume(1);\r\n                Game.playBattleMusic();\r\n            }\r\n        });\r\n    }\r\n    onHome() {\r\n        Game.alert.onShow(\"确定返回主页吗?\", new Laya.Handler(this, this.onGo), null, \"本局将不会产生任何收益。\");\r\n    }\r\n    onGo() {\r\n        Game.addCoins = 0;\r\n        Game.addExp = 0;\r\n        Game.showMain();\r\n        this.removeSelf();\r\n    }\r\n    onBattle() {\r\n        this.removeSelf();\r\n        Game.executor.start();\r\n    }\r\n    removeSelf() {\r\n        Game.state = 0;\r\n        return super.removeSelf();\r\n    }\r\n}\r\n",
  "references": [
    "D:/gitworker/Game3DUP/src/ui/layaMaxUI.ts",
    "D:/gitworker/Game3DUP/src/game/Game.ts",
    "D:/gitworker/Game3DUP/src/gameCookie/CookieKey.ts",
    "D:/gitworker/Game3DUP/src/core/App.ts"
  ]
}
